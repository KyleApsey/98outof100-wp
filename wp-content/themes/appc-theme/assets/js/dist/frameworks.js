!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).stickybits=e()}(this,function(){"use strict";var t=function(){function t(t,e){var i=void 0!==e?e:{};this.version="3.6.5",this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={customStickyChangeNumber:i.customStickyChangeNumber||null,noStyles:i.noStyles||!1,stickyBitStickyOffset:i.stickyBitStickyOffset||0,parentClass:i.parentClass||"js-stickybit-parent",scrollEl:"string"==typeof i.scrollEl?document.querySelector(i.scrollEl):i.scrollEl||window,stickyClass:i.stickyClass||"js-is-sticky",stuckClass:i.stuckClass||"js-is-stuck",stickyChangeClass:i.stickyChangeClass||"js-is-sticky--change",useStickyClasses:i.useStickyClasses||!1,useFixed:i.useFixed||!1,useGetBoundingClientRect:i.useGetBoundingClientRect||!1,verticalPosition:i.verticalPosition||"top"},this.props.positionVal=this.definePosition()||"fixed",this.instances=[];var s=this.props,o=s.positionVal,n=s.verticalPosition,r=s.noStyles,l=s.stickyBitStickyOffset,a="top"!==n||r?"":l+"px",c="fixed"!==o?o:"";this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]);for(var u=0;u<this.els.length;u++){var f=this.els[u];f.style[n]=a,f.style.position=c,this.instances.push(this.addInstance(f,this.props))}}var e=t.prototype;return e.definePosition=function(){var t;if(this.props.useFixed)t="fixed";else{for(var e=["","-o-","-webkit-","-moz-","-ms-"],i=document.head.style,s=0;s<e.length;s+=1)i.position=e[s]+"sticky";t=i.position?i.position:"fixed",i.position=""}return t},e.addInstance=function(t,e){var i=this,s={el:t,parent:t.parentNode,props:e};if("fixed"===e.positionVal||e.useStickyClasses){this.isWin=this.props.scrollEl===window;var o=this.isWin?window:this.getClosestParent(s.el,s.props.scrollEl);this.computeScrollOffsets(s),s.parent.className+=" "+e.parentClass,s.state="default",s.stateContainer=function(){return i.manageState(s)},o.addEventListener("scroll",s.stateContainer)}return s},e.getClosestParent=function(t,e){var i=e,s=t;if(s.parentElement===i)return i;for(;s.parentElement!==i;)s=s.parentElement;return i},e.getTopPosition=function(t){if(this.props.useGetBoundingClientRect)return t.getBoundingClientRect().top+(this.props.scrollEl.pageYOffset||document.documentElement.scrollTop);for(var e=0;e=t.offsetTop+e,t=t.offsetParent;);return e},e.computeScrollOffsets=function(t){var e=t,i=e.props,s=e.el,o=e.parent,n=!this.isWin&&"fixed"===i.positionVal,r="bottom"!==i.verticalPosition,l=n?this.getTopPosition(i.scrollEl):0,a=n?this.getTopPosition(o)-l:this.getTopPosition(o),c=null!==i.customStickyChangeNumber?i.customStickyChangeNumber:s.offsetHeight,u=a+o.offsetHeight;e.offset=l+i.stickyBitStickyOffset,e.stickyStart=r?a-e.offset:0,e.stickyChange=e.stickyStart+c,e.stickyStop=r?u-(s.offsetHeight+e.offset):u-window.innerHeight},e.toggleClasses=function(t,e,i){var s=t,o=s.className.split(" ");i&&-1===o.indexOf(i)&&o.push(i);var n=o.indexOf(e);-1!==n&&o.splice(n,1),s.className=o.join(" ")},e.manageState=function(t){var e=t,i=e.el,s=e.props,o=e.state,n=e.stickyStart,r=e.stickyChange,l=e.stickyStop,a=i.style,c=s.noStyles,u=s.positionVal,f=s.scrollEl,d=s.stickyClass,p=s.stickyChangeClass,h=s.stuckClass,v=s.verticalPosition,y="bottom"!==v,m=function(t){t()},g=this.isWin&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)||m,k=this.toggleClasses,w=this.isWin?window.scrollY||window.pageYOffset:f.scrollTop,C=y&&w<=n&&("sticky"===o||"stuck"===o),S=l<=w&&"sticky"===o;n<w&&w<l&&("default"===o||"stuck"===o)?(e.state="sticky",g(function(){k(i,h,d),a.position=u,c||(a.bottom="",a[v]=s.stickyBitStickyOffset+"px")})):C?(e.state="default",g(function(){k(i,d),k(i,h),"fixed"===u&&(a.position="")})):S&&(e.state="stuck",g(function(){k(i,d,h),"fixed"!==u||c||(a.top="",a.bottom="0",a.position="absolute")}));var b=r<=w&&w<=l;w<r/2||l<w?g(function(){k(i,p)}):b&&g(function(){k(i,"stub",p)})},e.update=function(t){void 0===t&&(t=null);for(var e=0;e<this.instances.length;e+=1){var i=this.instances[e];if(this.computeScrollOffsets(i),t)for(var s in t)i.props[s]=t[s]}return this},e.removeInstance=function(t){var e=t.el,i=t.props,s=this.toggleClasses;e.style.position="",e.style[i.verticalPosition]="",s(e,i.stickyClass),s(e,i.stuckClass),s(e.parentNode,i.parentClass)},e.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var e=this.instances[t];e.stateContainer&&e.props.scrollEl.removeEventListener("scroll",e.stateContainer),this.removeInstance(e)}this.manageState=!1,this.instances=[]},t}();return function(e,i){return new t(e,i)}}),function(t,e){if("function"==typeof define&&define.amd)define(["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var i={};e(i),t.bodyScrollLock=i}}(this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=!1;if("undefined"!=typeof window){var i={get passive(){e=!0}};window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}var s="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iPad|iPhone|iPod|(iPad Simulator)|(iPhone Simulator)|(iPod Simulator)/.test(window.navigator.platform),o=null,n=[],r=!1,l=-1,a=void 0,c=void 0,u=function(t){var e=t||window.event;return 1<e.touches.length||(e.preventDefault&&e.preventDefault(),!1)},f=function(){setTimeout(function(){void 0!==c&&(document.body.style.paddingRight=c,c=void 0),void 0!==a&&(document.body.style.overflow=a,a=void 0)})};t.disableBodyScroll=function(t,i){var f;s?t&&!n.includes(t)&&(n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(n),[t]),t.ontouchstart=function(t){1===t.targetTouches.length&&(l=t.targetTouches[0].clientY)},t.ontouchmove=function(e){var i,s,o,n;1===e.targetTouches.length&&(s=t,n=(i=e).targetTouches[0].clientY-l,s&&0===s.scrollTop&&0<n?u(i):(o=s)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&n<0?u(i):i.stopPropagation())},r||(document.addEventListener("touchmove",u,e?{passive:!1}:void 0),r=!0)):(f=i,setTimeout(function(){if(void 0===c){var t=!!f&&!0===f.reserveScrollBarGap,e=window.innerWidth-document.documentElement.clientWidth;t&&0<e&&(c=document.body.style.paddingRight,document.body.style.paddingRight=e+"px")}void 0===a&&(a=document.body.style.overflow,document.body.style.overflow="hidden")}),o||(o=t))},t.clearAllBodyScrollLocks=function(){s?(n.forEach(function(t){t.ontouchstart=null,t.ontouchmove=null}),r&&(document.removeEventListener("touchmove",u,e?{passive:!1}:void 0),r=!1),n=[],l=-1):(f(),o=null)},t.enableBodyScroll=function(t){s?(t.ontouchstart=null,t.ontouchmove=null,n=n.filter(function(e){return e!==t}),r&&0===n.length&&(document.removeEventListener("touchmove",u,e?{passive:!1}:void 0),r=!1)):o===t&&(f(),o=null)}});